
% Copyright Glen Newton glen.newton@gmail.com
%
\documentclass[12pt]{article}
\usepackage{imakeidx}
\usepackage{hyperref}
\usepackage[most]{tcolorbox}
\usepackage{savetrees}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{multicol}
\usepackage{seqsplit}
\usepackage{xcolor}
\usepackage{etoolbox}
\usepackage{tocloft}
\usepackage{fancyhdr}
\usepackage{listings}

\graphicspath{{../icons_tex/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{AWS Architecture and Resource Icons for \LaTeX}
\author{Glen Newton \\\texttt{\href{mailto:glen.newton@gmail.com}{glen.newton@gmail.com}}}

\date{\today}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Change below lines to change look of document %%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{fancy}
\fancyhf{}
\rfoot{\hyperref[index]{\indexname}}
\cfoot{Page \thepage}
\lfoot{\hyperref[toc]{TOC}}

\chead{\href{https://github.com/gnewton/awsArchIcons2LaTeX}{awsArchIcons2LaTeX}}

\newcommand{\iconsize}{0.07}
\newcommand{\vspacing}{6mm}
\newcommand{\minipagespacing}{6.9cm}
\renewcommand{\familydefault}{\sfdefault}

%% Arch and Res sections start/end
\newcommand{\archStart}{\section{Services}\begin{multicols}{2}\footnotesize}
\newcommand{\archEnd}{\end{multicols}\clearpage}
\newcommand{\resStart}{\newpage\section{Resources}\begin{multicols}{2}\footnotesize}
\newcommand{\resEnd}{\end{multicols}\clearpage}

%% Command used for each icon entry
\newcommand{\gxs}[5]{\vcenteredinclude{#2}{\hspace{3mm} \begin{minipage}{\minipagespacing}{\bf \small{#1}}\\ \tt \seqsplit{#3} \\\tt Macro:\seqsplit{#4}\index[macros]{#4 (#5)} \end{minipage}}\vspace{\vspacing}\newline}

\input{macros}

%% From: https://tex.stackexchange.com/a/847
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Do not change rest of preamble (below this line) unless you know what
%% you are doing %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% From: https://codepunk.io/change-the-background-color-of-a-blockquote-in-latex-2/
\definecolor{block-gray}{gray}{.75}
\newtcolorbox{blockquote}{colback=block-gray,grow to right by=-1mm,grow to left by=-1mm,boxrule=0pt,boxsep=0pt,breakable}

\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

\makeatletter
\appto{\endmulticols}{\@doendpe}
\makeatother

%% Ref to index: From https://tex.stackexchange.com/questions/182710/how-to-reference-the-index
\makeindex[intoc,title={Index\label{index}}]
\makeindex[name=macros, intoc,title={\LaTeX Macros\label{macros}}]

%% "Too many open files" problem: From: https://stackoverflow.com/questions/1715677/error-too-many-open-files-in-pdflatex/1720556#1720556
\let\mypdfximage\pdfximage
\def\pdfximage{\immediate\mypdfximage}

\newcommand{\vcenteredinclude}[1]{\begingroup
\setbox0=\hbox{#1}%
\parbox{\wd0}{\box0}\endgroup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\maketitle
\tableofcontents\label{toc}
%\clearpage
\noindent\makebox[\linewidth]{\rule{\paperwidth}{0.4pt}}

%%%%%%
\section{What is this?}
\LaTeX\ style which allows you to use the \href{https://aws.amazon.com/architecture/icons/}{AWS architectural icons} in your \LaTeX documents.

\vspace{3mm}

The SVG versions of the icons are converted to {\LaTeX}--compatible PDF form using \href{https://inkscape.org/}{Inkscape} {\tt ({\inkscapeVersion})}
using the purpose written Go program \href{https://github.com/gnewton/awsArchIcons2LaTeX/aws2tex}{aws2tex}.

This Go program, \texttt{aws2tex} creates:
\begin{itemize}
\item The icons portion of this document (\texttt{\\input{icons}})
\item Using Inkscape, all of the icons are converted and are written to the \texttt{icons\_tex} directory.
\item This document, which is to illustrate as well as index these icons and their corresponding \LaTeX maceos.
  Not all icons are converted:
  \begin{itemize}
  \item For \textit{Resources}, only the \texttt{\_Light} versions. The \texttt{\_Dark} are omitted.
  \item For \textit{Architecture}, only the \texttt{\_64} versions. The lower resolution \texttt{\_16,\_32,\_48} are omitted.
  \end{itemize}
  While the above icons are omitted in the document, they are all included and available for use, in the \texttt{icons\_tex} directory.\\
  For instructions on how to generate this document with \textit{all} icons, please see the instructions in the README.md at the github repo.
\item This document is found in: \url{https://github.com/gnewton/awsArchIcons2LaTeX}
\end{itemize}


%%%%%%
\section{How to use it?}
Icons can be added to \LaTeX\ documents using the \texttt{{\textbackslash}includegraphics}\ \ command:

\begin{blockquote}
\begin{verbatim}
\graphicspath{{../icons_tex/}}
Here is an API Gateway: 
  \includegraphics[width=1cm]{../icons_tex/Arch_Amazon-API-Gateway_64.pdf}
\end{verbatim}
\end{blockquote}

\noindent Resulting in:\\
\begin{blockquote}
Here is an API Gateway:
\includegraphics[width=1cm]{../icons_tex/Arch_Amazon-API-Gateway_64.pdf}
\end{blockquote}
    [Without the gray background]
    
%%%%%%
\subsection{Examples}
See the \href{https://github.com/gnewton/awsArchIcons2LaTeX/examples}{examples} directory at the github repo.
  
\section{Source}
AWS Architecture Icons from \url{https://aws.amazon.com/architecture/icons/}.\\
%Assets package used: \href{https://d1.awsstatic.com/webteam/architecture-icons/Q32020/{\assetZipFile}}{\seqsplit{\assetZipFile}}
Assets package used: \href{https://d1.awsstatic.com/webteam/architecture-icons/Q32020/\assetZipFile}{\assetZipFile}

\vspace{3cm}
\noindent \copyright\ Glen Newton 2020\\
Icons in this document (I believe) are \ \copyright\ Amazon Web Services (AWS)
\vspace{5mm}


\setlength{\parindent}{0pt}

%%%%%%%%%%%%% ICON CONTENT

\input{icons.tex}

%%%%%%%%%%%%% INDEX
\normalsize

\printindex
\printindex[macros]

\end{document}
